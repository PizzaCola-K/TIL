---
title: 2021 04 18 TIL
date: 2021-04-18 21:00:00 +0900
categories: [TIL]
tags: [spring, aws]     # TAG names should always be lowercase
---

# Done

To Do List

# To Do List 하는 2주간의 회고

그 동안 같이 했던 코드스쿼드 프론트엔드 반의 Rano와 Seong에게 감사의 말씀을 드립니다.

2주간의 팀 프로젝트가 끝났다. GitHub의 Project에 kanban board의 클론 프로젝트였다. 해야 할 일, 하고 있는 일, 완료된 일에 카드를 등록하고, 이동하고 수정하는 기능을 구현하는 것이었다.

요구사항은 Spring boot에 Spring Data Jdbc를 사용하고, DB로는 MySQL을 이용하였다.

Spring Data JDBC를 사용하는 것이 처음이었기 때문에, [공식문서](https://docs.spring.io/spring-data/jdbc/docs/current/reference/html/#reference)를 보면서 사용법을 공부했는데, Spring Data Module이 모두 Domain Driven Design의 컨셉을 참고했다는 것부터 공부해야했다. 나중에 DDD 관련해서도 공부하면 좋겠다는 생각이 들었다.

그래서 문서에서 DDD에 관해 설명한 것을 읽어보며 고민했던 것은 목록과 카드를 하나의 Aggregate로 둘 것인지, 두 개의 Aggregate로 나눌 것인지를 선택하는 것이었다. 요구사항에 카드를 임의의 목록으로 이동할 수 있어야 하는 것이 있었다. 그러면서 Spring Data Jdbc의 OneToMany로 List를 가질 수 있기 때문에, 목록과 카드를 하나의 Aggregate로 두고, 목록을 Aggregate root로 두는 방법도 있었다.

그런데 요구사항을 보면 할 일 목록보다 카드를 추가, 이동, 삭제, 수정할 수 있다고 했기 때문에, 목록과 카드를 두개의 Aggregate로 두는 것이 좋겠다는 생각이 들었다. 또한 URL 설계에서도 목록과 카드를 접근할 때 id로 접근하는 것이 좋겠다는 생각을 했다. Aggregate를 분리한 대신, 목록과 카드의 관계를 OneToMany의 Map으로 두었다. GitHub Project에서도 Card에 대한 HTTP Request를 보니, 연결 리스트로 구성된 것 같고, 추가 이동 삭제 수정이 많으니 연결 리스트가 좋겠다고 생각해서 이를 이용하여 구현하기로 했다.

이전에 관계형 데이터베이스 실전 입문에서 봤던 것 처럼 RDBMS로 연결리스트를 표현하는 것 자체는 괜찮았는데, 그래프라고도 할 수 있는 연결 리스트로 구현하는 데에 애를 먹었다. Map관계를, Key가 이전 카드 id가 되고, Value가 현재 카드 id가 되도록 한 다음에 이전 카드 id를 0부터 해서 연결하면 순서가 있는 리스트로 구성할 수 있었다. 

이런 식으로 해서 카드에 대한 CRUD에 대한 기본 사항은 구현할 수 있었다. 프론트 분들과도 같이 협업해서 보여지는 하나의 서비스를 만들어 낸 것이 좋았다. 허나 안된 것도 많았는데, 요청 검증 기능을 구현하지 않았고, 로그인 구현 등도 하지 못했다. 좋았던 점과 아쉬운 것이 공존하는 2주였다.

팀플레이에 대해서는 불만사항 같은 것도 없고, 싸우지 않고 화목하게 잘했다고 생각한다. 같이 요구사항을 분석하고, 어떤 일을 해야할 지, 팀 규칙을 정하기 등 같이 무언가를 하는 것이 좋았다. 특히 백엔드의 api를 받아 프론트에서 실제로 무언가 보여지는 것을 처음 배포했을 땐 정말 기분이 좋았다.

나 자신에게 아쉬웠던 것은 개인 공부를 거의 안했다는 점이다. TIL도 적지 않았다. 알고리즘 문제나 스프링 공부, DB 공부 등 할 것들은 많은데 말이다. 꾸준히 공부할 수 있어야 하는데 많이 퍼진 것 같다. 이제부터 컨디션 조절을 잘 하면서 열심히 해봐야겠다.
